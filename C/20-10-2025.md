# C Day 1 :)

Finally got around doing `C` using `nvim`, spent around 7 worthy hours to ge it done.

---

## Problem 1:

First of all before I could even run the code, the code which ran apparently perfectly in vscode, it was filled with errors as soon as I copied the same thing in nvim :), well why you ask? because apparently I was studying some version of `C` which has been outdated since long ago, but running it on `vscode` it didn't raise any strict errors and ran with the legacy syntax. The moment I wrote that thing in `nvim` I got errors following the latest standards in writing `C` and had to modify the code accordingly or else it wouldn't even compile :) 

---

## Problem 2:

I have always been using vscode, and the whole concept of writing then saving the source code before manually compiling and running it seperately was so foreign to me that figuring this out  alone took time as I kept trying to compile with `:cc main.c` without actually writing the code first with `:w` and not to mention didn't know how to run it seperately lol or that creating my first C file would create a compiled machine code version of it haha which I would then have to run with `./a.out` :)

## Finally what I learned:

the workflow goes like this in nvim: write code --> save code (with `:w`) --> compile code (with `:cc -std=c11 -Wall -Wextra -Werror % -o %<`) --> and finally run the compiled file (with `:!./%<`)

:)

too many sweats yes?

I know, that's why my immediate thought was *how can I bind all of this to a key and make the process shorter?*, and after some digging around we come to our next problem that would take the next 2-3hr's of my life, by this point I was already about 2h into this

---

## Problem 3:

<u>**The Keybinding Journey**</u>

my first approach after being suggested by ai was to modify make and bind to compile the file, but after learning a bit more about the acutal process of keybindings and how to write one in lua I made my own script.

```bash
vim.keymap.set('n','<F5>', function()
  vim.cmd 'w'
  vim.cmd '! cc -std=c11 -Wall -Wextra -Werror % -o %<'
  if vim.v.shell_error == 0 then
    vim.cmd '!./%<'
  end
end, {desc = 'Save, Compile and Run'})
```
which spiralled me into what would be my next 3 hours of pain, agony and frustration as I deal with some nvim bug that makes it so that the run output is cleanly displayed for some program but has weird artifacts in some others.

## What I learned:

I didn't actually learn anything from this, despite me trying to find a solution and trying different things and ways for 3h, neither could I find a reason nor could I solve it. I could only give on it and choose to bypass this for now in some other way to work on actually learning C instead of wasting all time on this.
Final `init.lua` code:

```bash
vim.keymap.set('n', '<F5>', function()
  vim.cmd 'w'
  vim.cmd 'below terminal cc -std=c11 -Wall -Wextra -Werror % -o %< && ./%<'
end, {desc = 'Save, Compile and Run C'})

vim.keymap.set('n', '<C-q>', function()
  vim.cmd 'q'
end, { desc = 'Quit' })
```
---

Well that's it kind of, the rest of the things I learned weren't really interesting and mostly related to learning and comprehending the differences between old and new c syntaxes and ofc how it functions and why it's written and functions the way it does. :)
